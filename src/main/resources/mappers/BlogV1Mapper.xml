<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cyl.blog.service.mapper.BlogV1Mapper">

    <insert id="insertBlogV1" parameterType="BlogV1">
        insert into tb_blog(id,title,type,parent,categoryid,pstatus,cstatus,ccount,rcount,createTime,creator, blog_type,lastUpdate)
        values(#{id},#{title},#{type},#{parent},#{categoryid},#{pstatus},#{cstatus},#{ccount},#{rcount},#{createTime},#{creator}, #{blog_type},#{lastUpdate})
    </insert>

    <select id="getById" parameterType="java.lang.Integer" resultType="BlogV1">
        SELECT * from tb_blog where id = #{id}
    </select>

    <select id="getBlogs" parameterType="Map" resultType="BlogV1">
        SELECT * from tb_blog where pstatus = 1 order by lastUpdate desc limit #{offset}, #{limit}
    </select>

    <select id="getAllBlogs" parameterType="Map" resultType="BlogV1">
        SELECT * from tb_blog  order by lastUpdate desc limit #{offset}, #{limit}
    </select>

</mapper>